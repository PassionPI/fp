"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});class o extends Array{}const{freeze:c}=Object,p=e=>e instanceof o,u=e=>p(e)?e:c(o.of(e||new Error,null)),f=e=>p(e)?e:c(o.of(null,e)),r=[f,u],P=e=>new Proxy(e,{apply:(...t)=>Promise.resolve().then(()=>Reflect.apply(...t)).then(...r)}),a=e=>new Promise(t=>setTimeout(t,e)),m=e=>{let t=!0;return{loop:async(h,d=()=>{})=>{for(t=!0;t;)if(await a(e),t)try{await h()}catch(w){d(w)}},stop:()=>{t=!1}}},y=()=>{let e,t;const n=new Promise((...s)=>{[e,t]=s});return{resolve:e,reject:t,pending:n}};class l extends Promise{pipe(t){return super.then(([n,s])=>n==null?t(s):u(n)).then(...r)}}const i=e=>new l(e).then(...r);i.resolve=e=>l.resolve(e).then(...r);i.reject=e=>l.reject(e).then(...r);exports.either=P;exports.interval=m;exports.pended=y;exports.pipeline=i;exports.wait=a;
